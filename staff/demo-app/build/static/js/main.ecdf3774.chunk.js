(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),s=n.n(r),o=n(7),a=n.n(o),i=(n(12),n(2)),c=n(3),u=n(5),l=n(4),p=n(0);var h=function(e){var t=e.onSignIn,n=e.onSignUp;return Object(p.jsxs)("div",{className:"landing container container--vertical container--gapped",children:[Object(p.jsx)("button",{type:"button",className:"button button--medium button--dark",onClick:function(){return t()},children:"Sign in"}),Object(p.jsx)("button",{type:"button",className:"button button--medium",onClick:function(){return n()},children:"Sign up"})]})};var d=function(e){var t=e.onSignUp,n=e.onSignIn;return Object(p.jsxs)("form",{className:"signup container container--vertical container--gapped",onSubmit:function(e){e.preventDefault();var n=e.target.name.value,r=e.target.username.value,s=e.target.password.value;t(n,r,s)},children:[Object(p.jsx)("input",{className:"field",type:"text",name:"name",id:"name",placeholder:"name"}),Object(p.jsx)("input",{className:"field",type:"text",name:"username",id:"username",placeholder:"username"}),Object(p.jsx)("input",{className:"field",type:"password",name:"password",id:"password",placeholder:"password"}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("button",{className:"button button--medium",onClick:function(){return n()},children:"Sign in"}),Object(p.jsx)("button",{className:"button button--medium button--dark",children:"Sign up"})]})]})};var m=function(e){var t=e.onSignUp,n=e.onSubmitSignIn;return Object(p.jsxs)("form",{className:"signin container container--vertical container--gapped",onSubmit:function(e){e.preventDefault();var t=e.target.username.value,r=e.target.password.value;n(t,r)},children:[Object(p.jsx)("input",{className:"field",type:"text",name:"username",id:"username",placeholder:"username"}),Object(p.jsx)("input",{className:"field",type:"password",name:"password",id:"password",placeholder:"password"}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("button",{type:"button",className:"button button--medium",onClick:function(){return t()},children:"Sign up"}),Object(p.jsx)("button",{type:"submit",className:"button button--medium button--dark",children:"Sign in"})]})]})};var b=function(e){var t=e.onSubmitSearch;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("form",{className:"home__search container",onSubmit:function(e){e.preventDefault();var n=e.target.query.value;t(n)},children:[Object(p.jsx)("input",{className:"field",type:"text",name:"query",id:"query",placeholder:"criteria"}),Object(p.jsx)("button",{type:"submit",className:"button button--medium button--dark",children:"Search"})]})})};var f=function(e){var t=e.vehicles,n=e.onVehicle;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"container",children:Object(p.jsx)("ul",{children:t.map((function(e){return Object(p.jsxs)("li",{onClick:function(){n()},children:[Object(p.jsxs)("h1",{children:[" ",e.name," "]}),Object(p.jsx)("img",{src:e.thumbnail}),Object(p.jsxs)("p",{children:[" ",e.price," "]})]},e.id)}))})})})};var g=function(e){return e.params,Object(p.jsx)("h1",{children:"Hola"})};var w=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).search=function(t){!function(e,t){if("string"!==typeof e)throw new TypeError(e+" is not a string");var n=new XMLHttpRequest;n.onload=function(){var e=n.status,r=n.responseText;if(200===e){var s=JSON.parse(r);t(null,s)}},n.open("GET","https://b00tc4mp.herokuapp.com/api/hotwheels/vehicles?q="+e),n.send()}(t,(function(t,n){if(t)return alert(t.message);e.setState({view:"results",vehicles:n})}))},e.state={view:null,vehicles:[]},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.state,t=e.view,n=e.vehicles,r=this.props,s=r.myUserName,o=r.onProfile,a=r.onSignOut,i=this.search;return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)("div",{className:"home container container--gapped container--vertical",children:[Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("p",{children:["Hello, ",Object(p.jsx)("span",{className:"name",children:s}),"!"]}),Object(p.jsx)("button",{type:"button",className:"button button-medium button--dark",onClick:function(){return o()},children:"Profile"}),Object(p.jsx)("button",{className:"button button-medium button",onClick:function(){return a()},children:"Sign out"})]}),Object(p.jsx)(b,{onSubmitSearch:i}),"results"===t&&Object(p.jsx)(f,{vehicles:n,onVehicle:this.setState({view:"details"})}),"details"===this.state.view&&Object(p.jsx)(g,{})]})})}}]),n}(r.Component),j=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).state={view:"update-password"},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.onSubmitUpdate,n=e.onGoBack,r=e.onUnRegister;return Object(p.jsx)(p.Fragment,{children:"update-password"===this.state.view&&Object(p.jsxs)("div",{className:"profile container container--vertical container--gapped",children:[Object(p.jsxs)("form",{className:"container container--vertical",onSubmit:function(e){e.preventDefault();var n=e.target.oldPassword.value,r=e.target.password.value;t(n,r)},children:[Object(p.jsx)("input",{className:"field",type:"password",name:"oldPassword",id:"oldPassword",placeholder:"old password"}),Object(p.jsx)("input",{className:"field",type:"password",name:"password",id:"password",placeholder:"new password"}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("button",{className:"button button--medium",onClick:function(){return n()},children:"Go back"}),Object(p.jsx)("button",{className:"button button--medium button--dark",children:"Update"})]})]}),Object(p.jsx)("button",{className:"button button--medium button--dark",onClick:function(){return r()},children:"Unregister"})]})})}}]),n}(r.Component);var v=function(e){var t=e.onSubmitUnRegister,n=e.onGoBack;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"unregister container container--vertical container--gapped",children:Object(p.jsxs)("form",{className:"container container--vertical",onSubmit:function(e){e.preventDefault();var n=e.target.password.value;t(n)},children:[Object(p.jsx)("input",{className:"field",type:"password",name:"password",id:"password",placeholder:"password"}),Object(p.jsxs)("div",{className:"container",children:[Object(p.jsx)("button",{className:"button button--medium",onClick:function(){return n()},children:"Go back"}),Object(p.jsx)("button",{className:"button button--medium button--dark",children:"Unregister"})]})]})})})};var O=function(e){var t=e.onSignIn;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("p",{children:"Te has registrado satisfactoriamente"}),Object(p.jsx)("button",{type:"button",className:"button",onClick:function(){return t()},children:"SignIn"})]})},S=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;return Object(i.a)(this,n),(e=t.call(this)).goToSignIn=function(){return e.setState({view:"signin"})},e.goToSignUp=function(){return e.setState({view:"signup"})},e.goToLanding=function(){return e.setState({view:"landing"})},e.onSignOut=function(){e.goToLanding(),e.resetToken()},e.goToProfile=function(){return e.setState({view:"profile"})},e.goToHome=function(){return e.setState({view:"home"})},e.goToUnregister=function(){return e.setState({view:"unregister"})},e.goToPostSignUp=function(){return e.setState({view:"postsignup"})},e.resetToken=function(){return delete sessionStorage.token},e.login=function(t,n){try{!function(e,t,n){if("string"!==typeof e)throw new TypeError(e+" is not a string");if(!e.trim().length)throw new Error("username is empty or blank");if(/\r?\n|\r|\t| /g.test(e))throw new Error("username has blank spaces");if(e.length<4)throw new Error("username has less than 4 characters");if("string"!==typeof t)throw new TypeError(t+" is not a string");if(!t.trim().length)throw new Error("password is empty or blank");if(/\r?\n|\r|\t| /g.test(t))throw new Error("password has blank spaces");if(t.length<6)throw new Error("password has less than 6 characters");if("function"!==typeof n)throw new TypeError("{callback} is not a function");var r=new XMLHttpRequest;r.onload=function(){var e=r.status,t=r.responseText;if(401===e){var s=JSON.parse(t).error;n(new Error(s))}else if(200===e){var o=JSON.parse(t).token;n(null,o)}},r.open("POST","https://b00tc4mp.herokuapp.com/api/v2/users/auth"),r.setRequestHeader("Content-Type","application/json");var s={username:e,password:t};r.send(JSON.stringify(s))}(t,n,(function(t,n){if(t)alert(t.message);else{sessionStorage.token=n;try{!function(e,t){if("string"!==typeof e)throw new TypeError(e+" is not a string");if(!/[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)$/.test(e))throw new Error("invalid token");if("function"!==typeof t)throw new TypeError("{callback} is not a function");var n=new XMLHttpRequest;n.onload=function(){var e=n.status,r=n.responseText;if(401===e||404===e){var s=JSON.parse(r).error;t(new Error(s))}else if(200===e){var o=r,a=JSON.parse(o);t(null,a)}},n.open("GET","https://b00tc4mp.herokuapp.com/api/v2/users"),n.setRequestHeader("Authorization","Bearer "+e),n.send()}(n,(function(t,n){if(t)alert(t.message);else{var r=n.username;e.setState({view:"home",user:r})}}))}catch(t){alert(t.message)}}}))}catch(r){return void alert(r.message)}},e.register=function(t,n,r){try{!function(e,t,n,r){if("string"!==typeof e)throw new TypeError(e+" is not a string");if(!e.trim().length)throw new Error("name is empty or blank");if(e.trim()!==e)throw new Error("blank spaces around name");if("string"!==typeof t)throw new TypeError(t+" is not a string");if(!t.trim().length)throw new Error("username is empty or blank");if(/\r?\n|\r|\t| /g.test(t))throw new Error("username has blank spaces");if(t.length<4)throw new Error("username has less than 4 characters");if("string"!==typeof n)throw new TypeError(n+" is not a string");if(!n.trim().length)throw new Error("password is empty or blank");if(/\r?\n|\r|\t| /g.test(n))throw new Error("password has blank spaces");if(n.length<6)throw new Error("password has less than 6 characters");if("function"!==typeof r)throw new TypeError("{callback} is not a function");var s=new XMLHttpRequest;s.onload=function(){var e=s.status,t=s.responseText;if(409===e||400===e){var n=JSON.parse(t).error;r(new Error(n))}else 201===e&&r(null)},s.open("POST","https://b00tc4mp.herokuapp.com/api/v2/users"),s.setRequestHeader("Content-Type","application/json");var o={name:e,username:t,password:n};s.send(JSON.stringify(o))}(t,n,r,(function(t){t?alert(t.message):e.goToPostSignUp()}))}catch(s){return void alert(s.message)}},e.updatePassword=function(e,t){try{!function(e,t,n,r){if("string"!==typeof e)throw new TypeError(e+" is not a string");if(!/[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)$/.test(e))throw new Error("invalid token");if("string"!==typeof t)throw new TypeError(t+" is not a string");if(!t.trim().length)throw new Error("oldPassword is empty or blank");if(/\r?\n|\r|\t| /g.test(t))throw new Error("oldPassword has blank spaces");if(t.length<6)throw new Error("oldPassword has less than 6 characters");if("string"!==typeof n)throw new TypeError(n+" is not a string");if(!n.trim().length)throw new Error("password is empty or blank");if(/\r?\n|\r|\t| /g.test(n))throw new Error("password has blank spaces");if(n.length<6)throw new Error("password has less than 6 characters");if("function"!==typeof r)throw new TypeError("{callback} is not a function");var s=new XMLHttpRequest;s.onload=function(){var e=s.status,t=s.responseText;if(400===e||401===e){var n=JSON.parse(t).error;r(new Error(n))}else 204===e&&r(null)},s.open("PATCH","https://b00tc4mp.herokuapp.com/api/v2/users"),s.setRequestHeader("Authorization","Bearer "+e),s.setRequestHeader("Content-Type","application/json");var o={oldPassword:t,password:n};s.send(JSON.stringify(o))}(sessionStorage.token,e,t,(function(e){e?alert(e.message):alert("todo ok")}))}catch(n){return void alert(n.message)}},e.unRegister=function(t){try{!function(e,t,n){if("string"!==typeof e)throw new TypeError(e+" is not a string");if(!/[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)$/.test(e))throw new Error("invalid token");if("string"!==typeof t)throw new TypeError(t+" is not a string");if(!t.trim().length)throw new Error("password is empty or blank");if(/\r?\n|\r|\t| /g.test(t))throw new Error("password has blank spaces");if(t.length<6)throw new Error("password has less than 6 characters");if("function"!==typeof n)throw new TypeError("{callback} is not a function");var r=new XMLHttpRequest;r.onload=function(){var e=r.status,t=r.responseText;if(400===e||401===e){var s=JSON.parse(t).error;n(new Error(s))}else 204===e&&n(null)},r.open("DELETE","https://b00tc4mp.herokuapp.com/api/v2/users"),r.setRequestHeader("Authorization","Bearer "+e),r.setRequestHeader("Content-Type","application/json");var s={password:t};r.send(JSON.stringify(s))}(sessionStorage.token,t,(function(t){t?alert(t.message):(alert("usuario borrado"),delete sessionStorage.token,e.setState({view:"landing"}))}))}catch(n){alert(n.message)}},e.state={view:sessionStorage.token?"home":"landing",user:null},e}return Object(c.a)(n,[{key:"render",value:function(){var e=this.updatePassword;return Object(p.jsxs)(p.Fragment,{children:["landing"===this.state.view&&Object(p.jsx)(h,{onSignIn:this.goToSignIn,onSignUp:this.goToSignUp}),"signin"===this.state.view&&Object(p.jsx)(m,{onSignUp:this.goToSignUp,onSubmitSignIn:this.login}),"signup"===this.state.view&&Object(p.jsx)(d,{onSignUp:this.register,onSignIn:this.goToSignIn}),"postsignup"===this.state.view&&Object(p.jsx)(O,{onSignIn:this.goToSignIn}),"home"===this.state.view&&Object(p.jsx)(w,{myUserName:this.state.user,onProfile:this.goToProfile,onSignOut:this.onSignOut}),"profile"===this.state.view&&Object(p.jsx)(j,{onGoBack:this.goToHome,onSubmitUpdate:e,onUnRegister:this.goToUnregister}),"unregister"===this.state.view&&Object(p.jsx)(v,{onSubmitUnRegister:this.unRegister,onGoBack:this.goToProfile})]})}}]),n}(s.a.Component),y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,15)).then((function(t){var n=t.getCLS,r=t.getFID,s=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),s(e),o(e),a(e)}))};a.a.render(Object(p.jsx)(s.a.StrictMode,{children:Object(p.jsx)(S,{})}),document.getElementById("root")),y()}},[[14,1,2]]]);
//# sourceMappingURL=main.ecdf3774.chunk.js.map